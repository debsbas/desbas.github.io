<!DOCTYPE html>
<html lang="pt-BR">
<head>
   <meta charset="UTF-8" />
   <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <title>WAPED Imobiliária — Início</title>

   <!-- Ícones e CSS -->
   <link rel="stylesheet" href="css/style.css">
   <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">
</head>

<body>

<!-- HEADER -->
<header class="header">
   <nav class="navbar nav-1">
      <section class="flex">
         <a href="index.html" class="logo">
            <i class="fas fa-house"></i> WAPED
         </a>

         <ul>
            <li><a href="login.html">Sou Corretor <i class="fas fa-user-tie"></i></a></li>
         </ul>
      </section>
   </nav>

   <nav class="navbar nav-2">
      <section class="flex">
         <div class="menu">
            <ul>
               <li><a href="index.html">Início</a></li>
               <li><a href="imoveis.html">Imóveis</a></li>
               <li>
                  <a href="#">Ajuda <i class="fas fa-angle-down"></i></a>
                  <ul>
                     <li><a href="#">Sobre</a></li>
                     <li><a href="#">Contato</a></li>
                  </ul>
               </li>
            </ul>
         </div>
      </section>
   </nav>
</header>
<!-- END HEADER -->

<!-- BANNER -->
<section class="banner">
   <img src="https://picsum.photos/2000/800?random=1" alt="banner">
   <div class="content">
      <h3>Encontre o imóvel perfeito para você</h3>
      <p>Casas, salas comerciais, terrenos, galpões, tudo em um só lugar.</p>
   </div>
</section>

<!-- LISTAGEM DE IMÓVEIS -->
<section class="listings">
   <h1 class="heading">Imóveis Disponíveis</h1>

   <div id="imoveis-container" class="box-container">
      <!-- Imóveis serão carregados aqui -->
   </div>
</section>

<!-- FOOTER -->
<footer class="footer">
   © 2025 WAPED Imobiliária — Todos os direitos reservados.
</footer>

<!-- FIREBASE -->
<script type="module">

   // FIREBASE IMPORTS
   import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
   import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

   // CONFIGURAÇÃO DO FIREBASE
   const firebaseConfig = {
      apiKey: "SUA_API_KEY",
      authDomain: "SEU_AUTH_DOMAIN",
      projectId: "SEU_PROJECT_ID",
      storageBucket: "SEU_BUCKET",
      messagingSenderId: "SENDER_ID",
      appId: "APP_ID"
   };

   const app = initializeApp(firebaseConfig);
   const db = getFirestore(app);

   // CARREGAR IMÓVEIS
   async function carregarImoveis() {
      const container = document.getElementById("imoveis-container");
      container.innerHTML = "<p>Carregando imóveis...</p>";

      const querySnapshot = await getDocs(collection(db, "imoveis"));

      container.innerHTML = "";

      querySnapshot.forEach((doc) => {
         const i = doc.data();

         container.innerHTML += `
         <div class="box">
            <div class="thumb">
               <p class="total-images"><i class="far fa-image"></i><span>1</span></p>

               <p class="type">
                  <span>${i.tipo || "Imóvel"}</span>
                  <span>${i.finalidade || "Venda"}</span>
               </p>

               <img src="${i.foto || `https://picsum.photos/600/400?random=${Math.random()}`}" alt="imagem">
            </div>

            <h3 class="name">${i.titulo || "Título não informado"}</h3>

            <p class="location">
               <i class="fas fa-map-marker-alt"></i>
               <span>${i.endereco || "Endereço não informado"}</span>
            </p>

            <div class="flex">
               <p><i class="fas fa-bed"></i> <span>${i.quartos || 0}</span></p>
               <p><i class="fas fa-bath"></i> <span>${i.banheiros || 0}</span></p>
               <p><i class="fas fa-maximize"></i> <span>${i.area || 0} m²</span></p>
            </div>

            <a href="view_property.html?id=${doc.id}" class="btn">Ver detalhes</a>
         </div>`;
      });
   }

   carregarImoveis();

</script>

</body>
</html>
